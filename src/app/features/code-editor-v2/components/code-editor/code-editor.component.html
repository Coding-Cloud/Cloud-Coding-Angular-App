<div class="code-editor-page" xmlns="http://www.w3.org/1999/html">
    <div class="editor-content">
        <div class="editor">
            <span *ngIf="!isLoading" class="editor__tree d-flex flex-column">
              <button *ngIf="!isLoading"  #collapsible type="button" class="collapsible" (click)="handleClickOnCollapse()"><span>Project</span><mat-icon class="arrow chevron-left">{{iconChevronName}}</mat-icon></button>
              <div *ngIf="!isLoading" class="content"  #collapsed>
                  <monaco-tree *ngIf="!isLoading" [currentFile]="currentFile.path" [tree]="tree" (clickContextMenu)="handleClickContextMenu($event)"
                    (clickFile)="handleClickOnFolder($event)" (createFile)="handleCreateFile($event)" (createImage)="handleCreateImage($event)"
                    (createDir)="handleCreateDir($event)" (renameFolder)="handleRenameFolder($event)"></monaco-tree>
                </div>
                <app-developer-list [projectUniqueName]="uniqueName" class="d-block"></app-developer-list>
            </span>

            <span id="app-editor-picture-component" *ngIf="IMAGE_EXTENSION.includes(currentFile.type) && !isLoading; else notImageFile">
                <app-editor-picture [type]="currentFile.type" [code$]="code$" ></app-editor-picture>
            </span>
            <ng-template #notImageFile>
                <ngx-monaco-editor *ngIf="!isLoading" class="editor__text" (ngModelChange)="handleChange($event)" [options]="editorOptions"
                [ngModel]="(code$ | async)" (ngModelChange)="'jean'"></ngx-monaco-editor>
            </ng-template>
            <div class="spinner-editor-relative" *ngIf="isLoading || (loadingMonacoEditor$ | async)">
              <app-spinner  class="spinner-editor"></app-spinner>
            </div>

          <app-front-view class="iframe-view" *ngIf="!(loadingIframe$ | async) && baseUrlPath" [url]="baseUrlPath" [projectUniqueName]="uniqueName" ></app-front-view>Â·
          <app-spinner class="iframe-view loader" *ngIf="(loadingIframe$ | async)"></app-spinner>
        </div>
        <!-- <button class="button__tree" (click)="handleSave()">GOOOO</button>  -->
    </div>
</div>

<app-terminal id="terminal" [text]="codeRunnerSysOut$ | async" ></app-terminal>
